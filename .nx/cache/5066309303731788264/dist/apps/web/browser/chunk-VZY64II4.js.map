{
  "version": 3,
  "sources": ["apps/web/src/app/shared/components/bottom-bar/bottom-bar.component.ts", "apps/web/src/app/shared/components/bottom-bar/bottom-bar.component.html"],
  "sourcesContent": ["import { Component, HostListener, computed, signal, inject } from '@angular/core';\nimport { RouterLink, RouterLinkActive, Router, NavigationStart } from '@angular/router';\nimport { NavigationService } from '@core/navigation.service';\n\n@Component({\n  selector: 'app-bottom-bar',\n  standalone: true,\n  imports: [RouterLink, RouterLinkActive],\n  templateUrl: './bottom-bar.component.html',\n  styleUrl: './bottom-bar.component.scss',\n})\nexport class BottomBarComponent {\n  private readonly router = inject(Router);\n  private readonly nav = inject(NavigationService);\n  \n  readonly navItems = this.nav.navItems;\n  readonly moreOpen = signal(false);\n  readonly moreClosing = signal(false);\n\n  constructor() {\n    this.router.events.subscribe((event) => {\n      if (event instanceof NavigationStart) {\n        this.moreOpen.set(false);\n      }\n    });\n  }\n\n  @HostListener('window:resize')\n  onResize() {\n    this.moreOpen.set(false);\n  }\n\n  protected readonly primaryTabs = computed(() => {\n    const items = this.navItems();\n    return items.length > 4 ? items.slice(0, 4) : items;\n  });\n\n  protected readonly moreTabs = computed(() => {\n    const items = this.navItems();\n    return items.length > 4 ? items.slice(4) : [];\n  });\n\n  protected toggleMore(): void {\n    if (this.moreOpen()) {\n      this.closeMore();\n    } else {\n      this.moreOpen.set(true);\n    }\n  }\n\n  protected closeMore(): void {\n    if (this.moreClosing()) return;\n    this.moreClosing.set(true);\n    setTimeout(() => {\n      this.moreOpen.set(false);\n      this.moreClosing.set(false);\n    }, 350);\n  }\n}\n", "@if (navItems().length > 0) {\n  <nav class=\"bottom-bar\">\n    <div class=\"bottom-bar__tabs\">\n      @for (item of primaryTabs(); track item.route) {\n        <a\n          class=\"bottom-bar__tab\"\n          [routerLink]=\"item.route\"\n          routerLinkActive=\"bottom-bar__tab--active\"\n        >\n          <i class=\"pi {{ item.icon }}\"></i>\n          <span>{{ item.label }}</span>\n        </a>\n      }\n      @if (moreTabs().length > 0) {\n        <button\n          class=\"bottom-bar__tab\"\n          [class.bottom-bar__tab--active]=\"moreOpen()\"\n          (click)=\"toggleMore()\"\n        >\n          <i class=\"pi pi-ellipsis-h\"></i>\n          <span>更多</span>\n        </button>\n      }\n    </div>\n\n    @if (moreOpen() || moreClosing()) {\n      <div class=\"bottom-bar__overlay\" [class.bottom-bar__overlay--closing]=\"moreClosing()\" (click)=\"closeMore()\"></div>\n      <div class=\"bottom-bar__sheet\" [class.bottom-bar__sheet--closing]=\"moreClosing()\">\n        <div class=\"bottom-bar__sheet-handle\"></div>\n        <div class=\"bottom-bar__sheet-grid\">\n          @for (item of moreTabs(); track item.route) {\n            <a\n              class=\"bottom-bar__sheet-item\"\n              [routerLink]=\"item.route\"\n              routerLinkActive=\"bottom-bar__sheet-item--active\"\n              (click)=\"closeMore()\"\n            >\n              <i class=\"pi {{ item.icon }}\"></i>\n              <span>{{ item.label }}</span>\n            </a>\n          }\n        </div>\n      </div>\n    }\n  </nav>\n}\n"],
  "mappings": "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",
  "names": []
}
