<section class="public-shell" [class.public-shell--menu-open]="menuOpen()">
  <!-- Brand Panel (Left Side) -->
  <aside class="public-shell__brand">
    <div class="public-shell__brand-content">
      <a class="public-shell__logo" routerLink="/login">
        <span class="public-shell__logo-icon">C</span>
        <span class="public-shell__logo-text">Clessia</span>
      </a>
      <h2 class="public-shell__tagline">學程管家</h2>
      <p class="public-shell__slogan">讓學習旅程更輕鬆</p>

      <nav class="public-shell__nav">
        @for (item of publicRoutes; track item.absolutePath) {
          <a
            class="public-shell__nav-link"
            [routerLink]="item.absolutePath"
            routerLinkActive="public-shell__nav-link--active"
            [routerLinkActiveOptions]="item.absolutePath === '/login' ? { exact: true } : { exact: false }"
          >
            <i class="pi {{ item.icon }}"></i>
            <span>{{ item.label }}</span>
          </a>
        }
      </nav>
    </div>

    <p class="public-shell__copyright">&copy; 2025 Clessia Academy</p>

    <!-- Mobile hamburger -->
    <button
      class="hamburger hamburger--squeeze public-shell__hamburger"
      [class.hamburger--active]="menuOpen()"
      type="button"
      (click)="toggleMenu()"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
  </aside>

  <!-- Mobile sidebar overlay -->
  <div class="public-shell__overlay" [class.public-shell__overlay--open]="menuOpen()" (click)="toggleMenu()"></div>

  <!-- Mobile sidebar -->
  <nav class="public-shell__sidebar" [class.public-shell__sidebar--open]="menuOpen()">
    <div class="public-shell__sidebar-header">
      <a class="public-shell__logo" routerLink="/login" (click)="toggleMenu()">
        <span class="public-shell__logo-icon">C</span>
        <span class="public-shell__logo-text">Clessia</span>
      </a>
      <button class="public-shell__sidebar-close" (click)="toggleMenu()">
        <i class="pi pi-times"></i>
      </button>
    </div>

    @for (item of publicRoutes; track item.absolutePath) {
      <a
        class="public-shell__sidebar-link"
        [routerLink]="item.absolutePath"
        routerLinkActive="public-shell__sidebar-link--active"
        [routerLinkActiveOptions]="item.absolutePath === '/login' ? { exact: true } : { exact: false }"
        (click)="toggleMenu()"
      >
        <i class="pi {{ item.icon }}"></i>
        <span>{{ item.label }}</span>
      </a>
    }
  </nav>

  <!-- Content Panel (Right Side) -->
  <main class="public-shell__main">
    <div class="shell-route-wrapper u-fill-route-child">
      <router-outlet />
    </div>
  </main>
</section>
