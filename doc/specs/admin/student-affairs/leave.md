# 請假管理

**路徑**: `/admin/leave`
**角色**: Admin
**分組**: 學務管理

## 核心目的

建立和查詢請假紀錄。

## MVP 功能

### 分頁切換

- **待處理分頁**：今天或未來的請假申請
- **全部分頁**：所有請假紀錄，可篩選

### 篩選列（全部分頁）

- 日期範圍
- 學生姓名
- 課程
- 開課班

### 請假列表

每筆顯示：
- 學生姓名
- 請假日期
- 課堂（課程+時間）
- 請假原因
- 建立時間
- 建立者

點擊可展開編輯或刪除

### 新增請假 Popup

1. 選擇學生（可搜尋）
2. 選擇請假日期
3. 系統顯示該學生當天的課堂列表，勾選要請假的課堂（可多選）
4. 輸入請假原因（可選）
5. 確認建立

### 批次請假

- 選擇一個課堂 → 勾選多個學生 → 批次建立請假
- 適用場景：全班校外教學

## 資料依賴

| 操作 | 資料表 |
|------|--------|
| 讀取 | `leaves`, `students`, `sessions`, `enrollments` |
| 寫入 | `leaves`, `attendances` |

## PRD 參考

- 4.9 請假
- 7.4 管理員常用頁面
