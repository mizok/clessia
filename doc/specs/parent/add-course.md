# 加選課程

**路徑**: `/parent/add-course`
**角色**: Parent

## 核心目的

瀏覽並加選新課程（以課程探索為中心）。

## MVP 功能

### 孩子切換器

- 頂部顯示目前選擇的孩子
- 可切換或新增孩子

### 篩選功能

- **課程類型篩選**：依科目分類篩選（數學、英文、國文等）
- **上課時間篩選**：依星期幾篩選（避免時間衝突）
- **關鍵字搜尋**：搜尋課程名稱或班名

### 課程列表

以卡片 Grid 呈現：

**篩選邏輯**：
- 依學生年級篩選適合的課程
- 排除學生已報名的開課班
- 標記為「推薦加選」的課程優先顯示

**每張課程卡片顯示**：
- 推薦標籤（若有）
- 課程名稱、開課班名稱
- 上課時間摘要
- 授課老師
- 剩餘名額（名額緊張以紅色標示）
- 費用

**空狀態**：若無可加選課程，顯示「目前沒有適合的可加選課程」

### 課程詳情 Popup

點擊課程卡片後展開：
- 課程名稱、開課班名稱
- 課程簡介（若有）
- 上課時間（完整列出每週時段）
- 授課老師
- 上課地點/分校
- 目前人數 / 名額上限
- 費用資訊（月繳或學期費用、費用說明）
- 「加選此課程」按鈕

### 加選申請流程

點擊「加選此課程」後：
1. 選擇繳費週期（月繳或期繳）
2. 選擇期望開始日期
3. 填寫備註（可選）
4. 確認送出

**送出後**：
- 產生報名申請（走審核流程）
- 顯示成功訊息
- 可選擇「繼續瀏覽」或「查看申請狀態」

## 資料依賴

| 操作 | 資料表 |
|------|--------|
| 讀取 | `classes`, `courses`, `enrollments`, `fee_templates`, `students` |
| 寫入 | `enrollment_requests` |

## PRD 參考

- 7.2 家長頁面

## 實作註記

- 依學生年級篩選適合課程
- 使用開課班的「適用年級」設定
